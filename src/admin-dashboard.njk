{% extends "base.njk" %}

{% block title %}👑 Admin Dashboard – LaunchBook AI{% endblock %}

{% block content %}
<div class="flex min-h-screen">
  <!-- 🔧 Sidebar -->
  <aside class="w-64 bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4">
    <h2 class="text-lg font-bold mb-6 text-gray-700 dark:text-gray-200">Admin Panel</h2>
    <nav class="flex flex-col space-y-2 text-sm">
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="users">👥 Users</button>
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="ebooks">📚 eBooks</button>
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="covers">🎨 Covers</button>
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="credits">💳 Credits</button>
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="logs">📄 Logs</button>
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="metrics">📊 Metrics</button>
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="settings">⚙️ Settings</button>
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="notifications">🔔 Notifications</button>
      <button class="admin-tab-btn text-left px-4 py-2 rounded hover:bg-blue-100 dark:hover:bg-gray-700 transition" data-tab="email_logs">📧 Emails</button>
    </nav>
  </aside>

  <!-- 📦 Content Area -->
  <main class="flex-1 p-6 overflow-y-auto">
    <!-- Tab Containers -->
    <div id="tab-users" class="admin-tab-content"></div>
    <div id="tab-ebooks" class="admin-tab-content hidden"></div>
    <div id="tab-covers" class="admin-tab-content hidden"></div>
    <div id="tab-credits" class="admin-tab-content hidden"></div>
    <div id="tab-logs" class="admin-tab-content hidden"></div>
    <div id="tab-metrics" class="admin-tab-content hidden"></div>
    <div id="tab-settings" class="admin-tab-content hidden"></div>
    <div id="tab-notifications" class="admin-tab-content hidden"></div>
    <div id="tab-email_logs" class="admin-tab-content hidden"></div>
   <div id="tab-notifications" class="admin-tab-content hidden"></div>
  <div id="tab-email_logs" class="admin-tab-content hidden"></div>

  </main>
</div>

<!-- 📜 Logs Modal -->
<div id="userLogsModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
  <div class="bg-white dark:bg-gray-800 p-6 rounded shadow w-full max-w-3xl max-h-[90vh] overflow-y-auto">
    <h2 class="text-lg font-bold mb-4">📜 User Logs</h2>
    <div id="userLogsContent" class="text-sm"></div>
    <div class="text-right mt-4">
      <button id="closeLogsBtn" class="text-gray-600 hover:underline">Close</button>
    </div>
  </div>
</div>

<!-- 📊 Credit History Modal -->
<div id="creditHistoryModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
  <div class="bg-white dark:bg-gray-800 p-6 rounded shadow w-full max-w-2xl max-h-[90vh] overflow-y-auto">
    <h2 class="text-lg font-bold mb-4">📊 Credit History</h2>
    <div id="creditHistoryContent" class="text-sm"></div>
    <div class="text-right mt-4">
      <button id="closeCreditHistoryBtn" class="text-gray-600 hover:underline">Close</button>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/src/admin/admin.js"></script>
{% endblock %}
