<!-- API Key -->
<input id="userApiKeyInput" placeholder="Enter your OpenAI API Key">
<span id="apiKeyStatus"></span>
<button id="removeApiKeyBtn" class="hidden">❌</button>

<!-- Main Controls -->
<input id="titleInput">
<input id="topicInput">
<textarea id="descInput"></textarea>
<input id="coverPromptInput">
<select id="languageSelect">...</select>
<input type="radio" name="output_format" value="pdf" checked>
<input type="radio" name="output_format" value="epub">

<!-- Formatting Options -->
<select id="fontSelect">...</select>
<select id="fontSize">...</select>
<select id="lineSpacing">...</select>
<select id="textAlign">...</select>

<!-- Buttons -->
<button id="generateBtn">🚀 Generate</button>
<button id="saveFormattingBtn">💾 Save Formatting</button>
<a id="downloadBtn" class="opacity-50 pointer-events-none">⬇️ Download</a>

<!-- Previews -->
<img id="coverPreview">
<div id="ebook_preview_area" class="overflow-y-auto max-h-[600px]"></div>
<div id="spinner" class="hidden">🔄 Generating...</div>

<!-- Credits -->
<span id="creditBadge"></span>

<!-- Example Image with Regen -->
<img data-image-id="img123" src="..." />
<button class="regen-img-btn" data-image-id="img123">♻️ Regenerate</button>

<!-- Example Text Block -->
<div data-block-id="block456">Some paragraph...</div>
<button class="regen-text-btn" data-block-id="block456">♻️ Regenerate</button>

<button id="templateSelectBtn" class="bg-gray-100 text-sm border rounded px-3 py-1 hover:bg-gray-200">
  🎨 Choose Design Template
</button>

<input type="email" id="recipientEmail" placeholder="Enter email to send" class="input-class">
<textarea id="emailMessage" placeholder="Optional message" class="input-class"></textarea>
<button id="sendEmailBtn" class="bg-blue-600 text-white px-4 py-2 rounded">📩 Send eBook</button>


<script src="/frontend/utils.js"></script>

<script>
  window.addEventListener("DOMContentLoaded", () => {
    if (typeof initGenerator === "function") initGenerator();
  });
</script>

<script src="/frontend/regen.js"></script>
<script>
  window.addEventListener("DOMContentLoaded", () => {
    if (typeof initRegenHandlers === "function") initRegenHandlers();
  });
</script>

<script src="/frontend/prebuildTemplate.js"></script>
<script>
  window.addEventListener("DOMContentLoaded", () => {
    if (typeof setupTemplatePicker === "function") setupTemplatePicker();
  });
</script>

<script src="/frontend/email.js"></script>
<script>
  window.addEventListener("DOMContentLoaded", () => {
    if (typeof initEmailSender === "function") initEmailSender();
  });
</script>


