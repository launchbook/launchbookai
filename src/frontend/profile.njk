{% extends "base.njk" %}

{% block title %}ğŸ‘¤ My Profile â€“ LaunchBook AI{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 py-10">
  <h1 class="text-3xl font-bold mb-6">ğŸ‘¤ My Profile</h1>

  <div id="profile-box" class="bg-white dark:bg-gray-800 p-6 rounded shadow space-y-4">
    <!-- Full Name -->
    <div>
      <label class="text-sm font-semibold">Full Name</label>
      <input id="nameInput" type="text" class="w-full mt-1 px-4 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700" />
    </div>

    <!-- Email -->
    <div>
      <label class="text-sm font-semibold">Email (read-only)</label>
      <input id="emailInput" type="email" disabled class="w-full mt-1 px-4 py-2 rounded border border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 cursor-not-allowed" />
    </div>

    <!-- User Info -->
    <div class="text-sm text-gray-500 dark:text-gray-400">
      <p><strong>User ID:</strong> <span id="userId"></span></p>
      <p><strong>Joined:</strong> <span id="joinedAt"></span></p>
    </div>

    <!-- Save Button -->
    <div>
      <button id="saveBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">
        ğŸ’¾ Save Changes
      </button>
    </div>

    <hr class="border-gray-300 dark:border-gray-700" />

    <!-- Security -->
    <div class="space-y-2">
      <h2 class="text-xl font-semibold">ğŸ›¡ï¸ Security</h2>
      <button class="text-blue-600 hover:underline text-sm" disabled title="Coming soon">
        âœï¸ Change Password (Coming Soon)
      </button>
    </div>

    <hr class="border-gray-300 dark:border-gray-700" />

    <!-- Danger Zone -->
    <div class="space-y-2">
      <h2 class="text-xl font-semibold text-red-600">âš ï¸ Danger Zone</h2>
      <button id="deleteBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded">
        ğŸ—‘ï¸ Delete My Account
      </button>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<!-- âœ… Supabase Init -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  window.supabase = supabase.createClient(
    'https://YOUR-PROJECT-ID.supabase.co',
    'public-anon-key'
  );
</script>

<!-- âœ… Profile Logic -->
<script src="/src/frontend/profile.js"></script>
{% endblock %}
